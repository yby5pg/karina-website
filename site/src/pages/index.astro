---
import BaseLayout from "../layouts/BaseLayout.astro";

const headshots = [
  "/images/headshots/headshot1.JPG",
  "/images/headshots/headshot2.JPG",
  "/images/headshots/headshot3.JPG",
];

const carouselItems = [
  { type: "photo", src: "/slideshow/photos/14.JPEG", href: "/stills"},
  { type: "video", src: "/slideshow/videos/Karina Yakubisin Dance Reel (1).mp4", poster: "/slideshow/photos/DanceReel.png", start: "48.1", href: "/reels"},
  { type: "photo", src: "/slideshow/photos/3.JPEG", href: "/stills"},
  { type: "video", src: "/slideshow/videos/Karina Yakubisin Musical Theatre Reel.mp4", poster: "/slideshow/photos/MTReel.png", start: "4.5", href: "/reels"},
  { type: "photo", src: "/slideshow/photos/8.JPEG", href: "/stills"},
  { type: "photo", src: "/slideshow/photos/16.JPEG", href: "/stills"},
];
---

<BaseLayout title="Karina Yakubisin">
  <!-- HERO: 3 headshots -->
  <section class="mt-10">
   <div class="mt-10 -mx-2 px-2 overflow-x-auto no-scrollbar">
  <div class="flex flex-nowrap gap-6 justify-center">
    {headshots.map((src) => (
      <div class="media-frame flex-1 basis-0 min-w-[160px] max-w-[410px]">
        <img
          src={src}
          alt="Headshot of Karina Yakubisin"
          class="w-full aspect-[4/5] object-cover"
          loading="eager"
        />
      </div>
    ))}
  </div>
</div>

  </section>

  <!-- ABOUT + LINKS -->
  <section class="mt-12">
    <div class="divider"></div>

    <div class="mt-8 grid gap-8 md:grid-cols-[1.2fr_0.8fr] md:items-start">
      <div>
        <h2 class="text-2xl font-semibold tracking-tight">About</h2>
        <p class="mt-4 text-sm leading-6 muted">
          Hi! My name is Karina and I am dancer first with lots of experience and training
          in Musical Theatre. I love historical novels, coffee, enjoying nature, thrifting, and my
          favorite musical is Newsies! Feel free to take a look around!
        </p>
      </div>

      <div class="panel p-6">
        <h3 class="text-sm font-semibold tracking-wide">Explore</h3>
        <div class="mt-4 flex flex-col gap-3">
          <a class="btn w-fit" href="/reels">Watch Reels</a>
          <a class="btn-outline w-fit" href="/headshot-resume">Headshot + Resume</a>
          <a class="btn-outline w-fit" href="/stills">Production Photos</a>
        </div>
      </div>
    </div>
  </section>

  <section class="mt-12">
    <div class="divider"></div>
    <div class="mt-5 -mx-2 px-2 overflow-x-auto no-scrollbar">
      <div class="flex gap-5 pb-2">
        {carouselItems.map((item) => (
          <a
            href={item.href}
            class="group media-frame shrink-0 w-[260px] md:w-[300px]"
            aria-label={item.label}
          >
            {item.type === "photo" ? (
              <img
                src={item.src}
                alt={item.label}
                class="w-full aspect-[3/2] object-cover"
                loading="lazy"
              />
            ) : (
              <video
                class="hover-play w-full aspect-[3/2] object-cover"
                src={item.src}
                poster={item.poster}
                muted
                playsinline
                preload="metadata"
                data-start={item.start}
              ></video>
            )}
          </a>
        ))}
      </div>
    </div>

    <script>
      const hoverVideos = document.querySelectorAll("video.hover-play");

      hoverVideos.forEach((video) => {
        const startTime = parseFloat(video.dataset.start || "0");

        video.addEventListener("mouseenter", async () => {
          try {
            video.currentTime = startTime;
            await video.play();
          } catch (e) {}
        });

        video.addEventListener("mouseleave", () => {
          video.pause();
          video.currentTime = startTime;
        });
      });
    </script>
  </section>
</BaseLayout>
